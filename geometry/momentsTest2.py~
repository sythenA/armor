import numpy as np
from armor import pattern
dbz = pattern.DBZ
a=dbz('20120612.0500')
a.load()
a.invar = a.invariantMoments()

results = []
for i in range(500, 800, 100):
    for j in range(0, 60, 10):
        print '\n................\n', i+j
        b = dbz('20120612.0%d'% (i+j))
        b.load()
        b.invar = b.invariantMoments()
        invarcorr    = np.corrcoef(a.invar, b.invar)[0,1]
        abcorr  = a.corr(b)[0,1]
        abdiff  = (a-b).matrix.sum()
        new_entry = {'name':b.name, 'invar':b.invar, 'invarcorr_with_a':invarcorr,
                        'abcorr':abcorr, 'abdiff':abdiff}
        print new_entry
        results.append(new_entry)



print '\n'.join( [str((v['name'], v['abcorr'], v['invarcorr_with_a'])) for v in results])

"""
('DBZ20120612.0500', 0.99999999999998357, 1.0)
('DBZ20120612.0510', 0.79027634220815035, 0.72638530909108079)
('DBZ20120612.0520', 0.65423439305159403, -0.14113661830066249)
('DBZ20120612.0530', 0.55863557204947378, -0.99300008407342033)
('DBZ20120612.0540', 0.51510627814769538, -0.99842268909193199)
('DBZ20120612.0550', 0.4846975577159281, -0.99514340658407285)
('DBZ20120612.0600', 0.45799322106919887, -0.51818364992862986)
('DBZ20120612.0610', 0.4441205386403172, -0.059028952312253705)
('DBZ20120612.0620', 0.42473678843533896, -0.084246444792610287)
('DBZ20120612.0630', 0.39456372334815559, -0.61110269601955391)
('DBZ20120612.0640', 0.38424143368383962, -0.70304484562473013)
('DBZ20120612.0650', 0.33020619421176139, -0.90434307526019864)
('DBZ20120612.0700', 0.29919791341683716, -0.96197344549184838)
('DBZ20120612.0710', 0.27827822938372304, -0.97655978675170041)
('DBZ20120612.0720', 0.26840515822728328, -0.97181467043857472)
('DBZ20120612.0730', 0.24619789822633639, -0.91982562970398651)
('DBZ20120612.0740', 0.22659310301784066, -0.99838651521073951)
('DBZ20120612.0750', 0.20220838367981797, -0.95986862954476615)
>>> 

"""
print results

"""
>>> print results
[{'abcorr': 0.99999999999998357, 'invar': [-17426.972964974804, 873705259.34800518, 1792138456089.7244, 402298113788.40533, 9.6809936213244979e+22, 6731850590824345.0, -3.2758659209574502e+23], 'name': 'DBZ20120612.0500', 'abdiff': 0.0, 'invarcorr_with_a': 1.0}, {'abcorr': 0.79027634220815035, 'invar': [-17347.058832088667, 862464309.51065135, 1533537156437.3667, 297388878352.16479, -8.877299674705638e+22, 3258504355509142.0, -1.8014742003092473e+23], 'name': 'DBZ20120612.0510', 'abdiff': 23288.200000000033, 'invarcorr_with_a': 0.72638530909108079}, {'abcorr': 0.65423439305159403, 'invar': [-17484.975217648454, 872440732.72636259, 1256976315567.9961, 244621410030.68396, -1.3010772896175853e+23, 118616227798656.69, -3.8362327762403508e+22], 'name': 'DBZ20120612.0520', 'abdiff': 40702.600000000479, 'invarcorr_with_a': -0.14113661830066249}, {'abcorr': 0.55863557204947378, 'invar': [-17166.130368024766, 843830599.53168821, 745025015642.65479, 210811529183.38907, -3.4095570862582587e+22, -3208139793206090.0, 7.6272328355738735e+22], 'name': 'DBZ20120612.0530', 'abdiff': 80923.300000000221, 'invarcorr_with_a': -0.99300008407342033}, {'abcorr': 0.51510627814769538, 'invar': [-16977.700952647745, 817763668.65833902, 676480693709.17432, 248824784726.12567, -3.5001502506991718e+22, -3854383699496313.0, 9.5898596634980157e+22], 'name': 'DBZ20120612.0540', 'abdiff': 87864.000000000131, 'invarcorr_with_a': -0.99842268909193199}, {'abcorr': 0.4846975577159281, 'invar': [-16513.063562825217, 779218374.92360258, 781432768969.94214, 323525412417.43335, -2.910169547632441e+22, -5163749509377444.0, 1.6004604035546077e+23], 'name': 'DBZ20120612.0550', 'abdiff': 104515.30000000095, 'invarcorr_with_a': -0.99514340658407285}, {'abcorr': 0.45799322106919887, 'invar': [-16415.189723221622, 758911021.60556197, 458680504473.36078, 504632293022.04565, 1.543498326920071e+23, -7214859080014157.0, 1.8740212997746325e+23], 'name': 'DBZ20120612.0600', 'abdiff': 99300.399999999383, 'invarcorr_with_a': -0.51818364992862986}, {'abcorr': 0.4441205386403172, 'invar': [-15484.049153280383, 721616559.11240768, 476705623983.46875, 1183194959797.2747, 7.9341015730081975e+23, -6166368117481900.0, 4.0015280235706111e+23], 'name': 'DBZ20120612.0610', 'abdiff': 174113.10000000146, 'invarcorr_with_a': -0.059028952312253705}, {'abcorr': 0.42473678843533896, 'invar': [-16092.498166869624, 700251600.12417603, 110462513070.81607, 834472777365.08508, 2.2362873778604857e+23, -5910086518104958.0, 1.1907070294705707e+23], 'name': 'DBZ20120612.0620', 'abdiff': 111506.39999999976, 'invarcorr_with_a': -0.084246444792610287}, {'abcorr': 0.39456372334815559, 'invar': [-15597.673965253016, 657618047.59660935, 68541272280.801872, 977691043989.54248, 1.4141882194849195e+23, -6362846830906710.0, 2.0989595566380153e+23], 'name': 'DBZ20120612.0630', 'abdiff': 124276.49999999987, 'invarcorr_with_a': -0.61110269601955391}, {'abcorr': 0.38424143368383962, 'invar': [-15492.85231889243, 649310578.7478143, 33100534276.587372, 861569577173.3678, 6.8106267181440668e+22, -6325770152205304.0, 1.2857221901678342e+23], 'name': 'DBZ20120612.0640', 'abdiff': 101596.69999999949, 'invarcorr_with_a': -0.70304484562473013}, {'abcorr': 0.33020619421176139, 'invar': [-15358.093879977643, 641266990.66867948, 102366050142.04434, 1295514680884.9922, 7.8731115176950044e+22, -3803555171911209.5, 4.6516640464293337e+23], 'name': 'DBZ20120612.0650', 'abdiff': 132822.39999999959, 'invarcorr_with_a': -0.90434307526019864}, {'abcorr': 0.29919791341683716, 'invar': [-14541.406279244882, 600847694.04104364, 199706542546.70618, 1467061597952.321, 4.6441135780819003e+21, -3146598812060604.0, 7.9407448718870092e+23], 'name': 'DBZ20120612.0700', 'abdiff': 178580.2000000019, 'invarcorr_with_a': -0.96197344549184838}, {'abcorr': 0.27827822938372304, 'invar': [-14553.038341225456, 587126751.14422154, 375839064988.61713, 1496337139340.2339, -6.1920484493026765e+22, -498225455652264.31, 1.1204253697603603e+24], 'name': 'DBZ20120612.0710', 'abdiff': 193766.30000000243, 'invarcorr_with_a': -0.97655978675170041}, {'abcorr': 0.26840515822728328, 'invar': [-14264.491320723615, 570302773.92917943, 433748408329.57458, 1609200383052.7756, -4.5100926705679716e+22, -446714215355036.75, 1.3436607320274889e+24], 'name': 'DBZ20120612.0720', 'abdiff': 202534.80000000156, 'invarcorr_with_a': -0.97181467043857472}, {'abcorr': 0.24619789822633639, 'invar': [-13658.927417618977, 518775705.30775166, 636520224306.49805, 1869923883321.8611, 2.6691237357559454e+23, 1510165794026721.2, 2.0225193431699732e+24], 'name': 'DBZ20120612.0730', 'abdiff': 206918.00000000099, 'invarcorr_with_a': -0.91982562970398651}, {'abcorr': 0.22659310301784066, 'invar': [-13037.918826023917, 486766559.31527454, 578271526525.04822, 1803006236326.4202, -4.1078680776519481e+23, -1042305020366364.8, 1.7946195777336086e+24], 'name': 'DBZ20120612.0740', 'abdiff': 202060.60000000166, 'invarcorr_with_a': -0.99838651521073951}, {'abcorr': 0.20220838367981797, 'invar': [-12041.230728044347, 420842780.83928621, 430584611177.90924, 1553562203313.7056, -7.3052945763498903e+23, -2981690473672465.0, 1.0396395942286137e+24], 'name': 'DBZ20120612.0750', 'abdiff': 197110.49999999974, 'invarcorr_with_a': -0.95986862954476615}]
>>> 


"""

